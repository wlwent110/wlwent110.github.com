<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .shake{
            width:102px;
            height:40px;
            display:block;
            background:lightgreen;
            border-radius:8%;
            margin:5px;
            color:#fff;

            text-align:center;
            line-height:40px;
            cursor:pointer;
            -webkit-transition:all 0.25s;
        }
        .shake:hover{
            -webkit-animation:shake 0.25s;
            background: lightblue;
        }
        @-webkit-keyframes shake {
            0%,10%,55%,90%,94%,98%,100%{
                -webkit-transform:scale(1,1);
            }
            30%{
                -webkit-transform:scale(1.14,0.86);
            }
            75%{
                -webkit-transform:scale(0.92,1.08);
            }
            92%{
                -webkit-transform:scale(1.04,0.96);
            }
            96%{
                -webkit-transform:scale(1.02,0.98);
            }
            99%{
                -webkit-transform:scale(1.01,0.99);
            }
        }
        .content{
            width: 273px;
            height: 40px;
            margin-left: 20px;
            overflow: hidden;
            border-radius:10px;
            border: solid 1px #2aabd2;
            padding-left:20px;
            display: none;
            background-color: #454dff;
        }
      .roll-text{
          transition: all 1000ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
          height: 40px;
            line-height: 40px;

      }
        .search{
            width:100px;
            height:30px;
            border-radius:10px;
            border:2px solid lightblue;

            right:200px;
            outline:none;
            text-indent:12px;
            color:#666;
            font-size:12px;
            padding:0;
            -webkit-transition:width 0.5s;
        }
        .search:focus{
            width:200px;
        }
       /* div{
            position: relative;


        }*/
      .content:hover .roll-text:first-child{
          margin-top:-40px;
      }
        input{
           color: #aaa;
        }
        ul{
            height: 32px;
            margin-bottom:0;
        }
        ul li{
            border: solid 1px #2aabd2;

            list-style: none;
            text-align: center;
            height: 30px;
            line-height: 30px;
            float: left;
            width: 100px;
        }
        .login{
            cursor: pointer;
            padding: 10px;
            border-radius:8%;
        }

        .login:hover{
            -webkit-animation:shake 0.25s;
            background: lightblue;
        }
        .login-div{
         display: inline-block;
        }
        .login-info{
            display: none;
        }
    </style>
</head>
<body>

<div class="login-div">
    <div class="shake login-info" style="width: 200px;height: 45px">
        <span></span>
        <span class="login ">退出</span>
    </div>
    <ul>
    <li class="anonymous-login  shake">匿名登录</li>
    <li class="third-login  shake">第三方登录</li>
</ul>
    <div class="content">
        <div class="roll-text">这位蒙面大侠来留下你的脚印</div>
        <div class="roll-text "><input class="search" type="text" value="请输入你的昵称"> <span class="login logon">登录</span></div>
    </div>
</div>

<script>
    var input=document.querySelector('input');
    var span=document.querySelector('.logon');
    var content=document.querySelector('.content');
    var anonymousLogin=document.querySelector('.anonymous-login');
    var ul=document.querySelector('ul');
    var loginDiv=document.querySelector('.login-div');
    var loginInfo=document.querySelector('.login-info');
    var checkUser=function () {
        if(window.localStorage.username){
            ul.style.display='none';
            loginInfo.children[0].innerText='欢迎用户'+window.localStorage.username+'登录';
            loginInfo.style.display='block';
        }else {
            loginInfo.style.display='none';
            ul.style.display='block';
        }
    }
   checkUser();
    loginInfo.children[1].onclick=function (e) {
        var e=e.target;
        window.localStorage.clear();
        checkUser();

    }
    anonymousLogin.onclick=function (e) {

        content.style.display='block';

        loginDiv.onmouseleave=function (e) {
            setTimeout(function () {
                if(!window.localStorage.username){

                    content.style.display='none';
                }
            },1000)


        }
    }
    span.onclick=function (e) {
if(input.value!=='请输入你的昵称'&&input.value.match(/\S/g)){
    console.log(input.value);
    window.localStorage.username= input.value;
    content.style.display='none';
    input.value='';
    checkUser();
}


    }
    input.onfocus=function (e) {
        this.onkeydown=function (e) {
            if(e.keyCode=='108'){
            span.click();
            }
        }
        console.log(e);
        if(e.target.value=='请输入你的昵称'){
            e.target.value=''
            e.target.style.color='#000';
        }
    }
    input.onblur=function (e) {
        if(e.target.value==''){
            e.target.value='请输入你的昵称';
            e.target.style.color='#aaa';
        }
    }
</script>
<!--<div class="csshub-wrap">
    <a class="csshub-button csshub-rollover">
        <span class="csshub-roll-text">Sign Up</span>
        <input type="text" id="input"><em class="csshub-roll-text">登录</em>
    </a>-->
</div>
</body>
</html>